<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>retrofit基本模板</title>
    <link href="/2024/04/14/retrofit%E5%9F%BA%E6%9C%AC%E6%A8%A1%E6%9D%BF/"/>
    <url>/2024/04/14/retrofit%E5%9F%BA%E6%9C%AC%E6%A8%A1%E6%9D%BF/</url>
    
    <content type="html"><![CDATA[<p>我只写一下retrofit基本模板，此处只写GET和POST相关</p><p>没看过<a href="https://juejin.cn/post/6978777076073660429">Retrofit2 实战（一、使用详解篇） - 掘金 (juejin.cn)</a>的要去看一下</p><p>retrofit发送请求需要四块代码</p><h6 id="第一块-你的API抽象接口（建议写一个单独的Java文件里）"><a href="#第一块-你的API抽象接口（建议写一个单独的Java文件里）" class="headerlink" title="第一块 你的API抽象接口（建议写一个单独的Java文件里）"></a>第一块 你的API抽象接口（建议写一个单独的Java文件里）</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">API</span> &#123;<br>    <span class="hljs-meta">@GET(&quot;api/user/detail&quot;)</span><span class="hljs-comment">//这里是相应请求的url，会接在第二块代码retrofit实例化填的域名或ip地址后面连成完整地址</span><br>    Call&lt;PersonalDetailData&gt; <span class="hljs-title function_">getPersonalDetail</span><span class="hljs-params">(<span class="hljs-meta">@Header(&quot;Authorization&quot;)</span> String token)</span>;<br>    <span class="hljs-comment">/*上面这行是抽象请求函数，无需自己实例化，retrofit实例化时会自动帮你实例化。</span><br><span class="hljs-comment">    Call&lt;Type&gt;中的Type是自己写的数据类，里面的字段名和类型由后端传输的json数据中的字段决定</span><br><span class="hljs-comment">    getPersonalDetail是抽象函数名称，自己随便起 括号里的@Header(&quot;Authorization&quot;) String token是我带的请求头用于后端身份验证，具体加不加看后端需求</span><br><span class="hljs-comment">    GET请求一般可通过@Query传递请求参数给后端,可添加多个，比如这样</span><br><span class="hljs-comment">    Call&lt;Type&gt; getGETNAME(@Query(&quot;name1&quot;) String Name1,@Query(&quot;name2&quot;) String Name2)</span><br><span class="hljs-comment">    也可以没有参数设置Call&lt;Type&gt; getGETNAME()</span><br><span class="hljs-comment">   */</span><br>    <span class="hljs-meta">@FormUrlEncoded</span><br>    <span class="hljs-meta">@POST(&quot;api/login&quot;)</span><span class="hljs-comment">//这里是相应请求的url,会接在第二块代码retrofit实例化填的域名或ip地址后面连成完整地址</span><br>    Call&lt;LoginData&gt; <span class="hljs-title function_">getLoginData</span><span class="hljs-params">(<span class="hljs-meta">@Field(&quot;stuid&quot;)</span> String UserID, <span class="hljs-meta">@Field(&quot;password&quot;)</span> String Password)</span>;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    POST的其他大部分和GET一样，但是如果通过表单传递数据给后端需要在@POST前面一行加上@FormUrlEncoded</span><br><span class="hljs-comment">    @Query也改成@Field</span><br><span class="hljs-comment">    Call&lt;Type&gt; postPOSTNAME(@Field(&quot;name1&quot;) String Name1,@Field(&quot;name2&quot;) String Name2)</span><br><span class="hljs-comment">    也可以没有参数设置</span><br><span class="hljs-comment">    Call&lt;Type&gt; postPOSTNAME()</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-comment">//下面的是传递文件时的函数写法，目前还没试过行不行就先不写了。</span><br>    <span class="hljs-meta">@Multipart</span><br>    <span class="hljs-meta">@POST(&quot;api/image&quot;)</span><span class="hljs-comment">//这里是相应请求的url</span><br>    Call&lt;ImageUrlResponse&gt; <span class="hljs-title function_">uploadImage</span><span class="hljs-params">(</span><br><span class="hljs-params">            <span class="hljs-meta">@Header(&quot;Authorization&quot;)</span> String authorization,</span><br><span class="hljs-params">            <span class="hljs-meta">@Part(&quot;image&quot;)</span> RequestBody image)</span>;<br>    <span class="hljs-meta">@GET(&quot;qiniutoken&quot;)</span><span class="hljs-comment">//这里是相应请求的url</span><br>    Call&lt;QiniuTokenData&gt; <span class="hljs-title function_">getQiniuToken</span><span class="hljs-params">(<span class="hljs-meta">@Header(&quot;Authorization&quot;)</span>String Token)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="第二块-在Application里实例化retrofit和你的API"><a href="#第二块-在Application里实例化retrofit和你的API" class="headerlink" title="第二块 在Application里实例化retrofit和你的API"></a>第二块 在Application里实例化retrofit和你的API</h6><p>这是一个单独的Java类，需要将类名“MyApplication”在manifest里声明，类名自己取</p><p>这样app启动时会自动调用Application里的onCreate（）函数，执行onCreate里的代码</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">manifest</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">&quot;http://schemas.android.com/tools&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.INTERNET&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.READ_EXTERNAL_STORAGE&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">application</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.MyApplication&quot;</span>//<span class="hljs-attr">位置在这里</span>，<span class="hljs-attr">要在名字前加</span>&quot;<span class="hljs-attr">.</span>&quot;</span><br><span class="hljs-tag">        <span class="hljs-attr">android:allowBackup</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:dataExtractionRules</span>=<span class="hljs-string">&quot;@xml/data_extraction_rules&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:fullBackupContent</span>=<span class="hljs-string">&quot;@xml/backup_rules&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:icon</span>=<span class="hljs-string">&quot;@mipmap/ic_launcher&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:label</span>=<span class="hljs-string">&quot;@string/app_name&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:networkSecurityConfig</span>=<span class="hljs-string">&quot;@xml/network_security_config&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:roundIcon</span>=<span class="hljs-string">&quot;@mipmap/ic_launcher_round&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:supportsRtl</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:theme</span>=<span class="hljs-string">&quot;@style/Theme.CCNU_STATION&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">tools:targetApi</span>=<span class="hljs-string">&quot;31&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">activity</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.DetailChange&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">activity</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.PersonalPage&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.google.android.actions&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:resource</span>=<span class="hljs-string">&quot;@xml/network_security_config&quot;</span> /&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">activity</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.SchoolDate&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">activity</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.ChatPage&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">activity</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.HomePage&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">activity</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.SetOutLookActivity&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">activity</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.MainActivity&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span><br><br>                <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//此处省略包名和import</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Application</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> API api;<span class="hljs-comment">//定义一个api对象，注意，必须是static修饰的，方便外部多次调用</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span><span class="hljs-comment">//把所有app初始化需要的代码放里面</span><br>    &#123;<br>        <span class="hljs-built_in">super</span>.onCreate();<br>        <span class="hljs-type">Retrofit</span> <span class="hljs-variable">retrofit</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Retrofit</span>.Builder()<br>                .baseUrl(<span class="hljs-string">&quot;http://10.131.122.150:8080/&quot;</span>)<span class="hljs-comment">//这个就是后端的服务器ip可以换成域名，末尾必须加上/</span><br>                .addConverterFactory(GsonConverterFactory.create())<br>                .build();<br>        api = retrofit.create(API.class);<span class="hljs-comment">//在这里你的API被实例化了</span><br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> API <span class="hljs-title function_">getApi</span><span class="hljs-params">()</span><br>    &#123;<br>        <span class="hljs-comment">//get函数返回实例化的api对象，可供外部调用</span><br>        <span class="hljs-keyword">return</span> api;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h6 id="第三块-你用于接收返回的json数据的数据类（也是单独一个Java文件）"><a href="#第三块-你用于接收返回的json数据的数据类（也是单独一个Java文件）" class="headerlink" title="第三块 你用于接收返回的json数据的数据类（也是单独一个Java文件）"></a>第三块 你用于接收返回的json数据的数据类（也是单独一个Java文件）</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Data</span><br>&#123;<br>    <span class="hljs-keyword">private</span> String name1;<span class="hljs-comment">//接收数据的字段名字和类型要和json里的字段一样，不然接收不到，具体看后端传的json</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> name2;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">这里稍微给一个json数据的例子</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment">&quot;name1&quot;:value1,</span><br><span class="hljs-comment">&quot;name2&quot;:value2</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br>    <span class="hljs-comment">//写get函数方便外部获取数据</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName1</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name1;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getName2</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> First;<br>    &#125;<br><span class="hljs-comment">//写set函数才能让retrofit（或者是Gson，我也不清楚）自动把json数据传入Data的实例化对象</span><br>    <span class="hljs-comment">//这里有一个小注意点，括号里参数名不能和字段名一样，否则好像会传不进去</span><br>    <span class="hljs-comment">//函数名随便写应该没事，最好规范一点</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">setName1</span><span class="hljs-params">(String Name1)</span> &#123;<br>        <span class="hljs-keyword">return</span> msg;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">setName2</span><span class="hljs-params">(<span class="hljs-type">int</span> Name2)</span> &#123;<br>        <span class="hljs-keyword">return</span> token;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="第四块-发送请求（你可以写在你需要发送请求的地方，比如按钮的点击事件响应里-这里以POST为例）"><a href="#第四块-发送请求（你可以写在你需要发送请求的地方，比如按钮的点击事件响应里-这里以POST为例）" class="headerlink" title="第四块 发送请求（你可以写在你需要发送请求的地方，比如按钮的点击事件响应里,这里以POST为例）"></a>第四块 发送请求（你可以写在你需要发送请求的地方，比如按钮的点击事件响应里,这里以POST为例）</h6><p>注意一下，这个是异步请求，不按照正常的代码顺序，不要把依赖返回数据的代码放在回调函数外面</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">API</span> <span class="hljs-variable">api</span> <span class="hljs-operator">=</span> MyApplication.getApi();<br>Call&lt;Data&gt; call = api.postPostName(参数<span class="hljs-number">1</span>，参数<span class="hljs-number">2.</span>.....);<span class="hljs-comment">//这个函数名我在上面的API里没写，意思意思得了</span><br>call.enqueue(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>&lt;Data&gt;() &#123;<br>                    <span class="hljs-meta">@Override</span><br>    <span class="hljs-comment">//请求成功的回调函数</span><br>                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResponse</span><span class="hljs-params">(Call&lt;Data&gt; call, Response&lt;Data&gt; response)</span> &#123;<br>                        Toast.makeText(MainActivity.<span class="hljs-built_in">this</span>,<span class="hljs-string">&quot;请求成功&quot;</span>,Toast.LENGTH_SHORT).show();<br>                        <span class="hljs-type">Data</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> response.body();<br>                        <span class="hljs-keyword">if</span>(body == <span class="hljs-literal">null</span>) &#123;<br>                            Toast.makeText(MainActivity.<span class="hljs-built_in">this</span>,<span class="hljs-string">&quot;响应体为空&quot;</span>,Toast.LENGTH_SHORT).show();<br>                            <span class="hljs-keyword">return</span>;<br>                        &#125;<br>                        <span class="hljs-comment">/*</span><br><span class="hljs-comment">                        现在body里面就存着返回的数据，如果成功的话</span><br><span class="hljs-comment">                        通过getName1()和getName2()获取</span><br><span class="hljs-comment">                        /*</span><br><span class="hljs-comment">                        这里应该是你自己对数据的处理代码</span><br><span class="hljs-comment">                        */</span><br>                    &#125;<br>                    <span class="hljs-meta">@Override</span><br>    <span class="hljs-comment">//请求失败的回调函数</span><br>                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailure</span><span class="hljs-params">(Call&lt;Data&gt; call, Throwable t)</span> &#123;<br>                        Toast.makeText(MainActivity.<span class="hljs-built_in">this</span>,<span class="hljs-string">&quot;请求失败&quot;</span>,Toast.LENGTH_SHORT).show();<br>                    &#125;<br><br>                &#125;);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>RecyclerView 详解</title>
    <link href="/2024/04/14/RecyclerView-%E8%AF%A6%E8%A7%A3/"/>
    <url>/2024/04/14/RecyclerView-%E8%AF%A6%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h4 id="RecyclerView的使用一共需要四个部分，在xml中添加recyclerview控件，在layout文件夹新建一个item-xml文件（名字自取）用于定义单个item的布局（recyclerview实质就是多个数据不同的item组成的列表），创建对应的Adapter类用于管理recyclerview的数据，在activity中完成数据和布局的连通。"><a href="#RecyclerView的使用一共需要四个部分，在xml中添加recyclerview控件，在layout文件夹新建一个item-xml文件（名字自取）用于定义单个item的布局（recyclerview实质就是多个数据不同的item组成的列表），创建对应的Adapter类用于管理recyclerview的数据，在activity中完成数据和布局的连通。" class="headerlink" title="RecyclerView的使用一共需要四个部分，在xml中添加recyclerview控件，在layout文件夹新建一个item.xml文件（名字自取）用于定义单个item的布局（recyclerview实质就是多个数据不同的item组成的列表），创建对应的Adapter类用于管理recyclerview的数据，在activity中完成数据和布局的连通。"></a>RecyclerView的使用一共需要四个部分，在xml中添加recyclerview控件，在layout文件夹新建一个item.xml文件（名字自取）用于定义单个item的布局（recyclerview实质就是多个数据不同的item组成的列表），创建对应的Adapter类用于管理recyclerview的数据，在activity中完成数据和布局的连通。</h4><h3 id="一-在xml中添加recyclerview控件"><a href="#一-在xml中添加recyclerview控件" class="headerlink" title="一 在xml中添加recyclerview控件"></a>一 在xml中添加recyclerview控件</h3><h6 id="这里很简单没什么好说的，请自行添加依赖"><a href="#这里很简单没什么好说的，请自行添加依赖" class="headerlink" title="这里很简单没什么好说的，请自行添加依赖"></a>这里很简单没什么好说的，请自行添加依赖</h6><h3 id="二-在layout文件夹下创建一个item-xml文件"><a href="#二-在layout文件夹下创建一个item-xml文件" class="headerlink" title="二 在layout文件夹下创建一个item.xml文件"></a>二 在layout文件夹下创建一个item.xml文件</h3><h6 id="下面是我的项目的一个示例，根据实际情况自己写，就和写普通布局一个思路"><a href="#下面是我的项目的一个示例，根据实际情况自己写，就和写普通布局一个思路" class="headerlink" title="下面是我的项目的一个示例，根据实际情况自己写，就和写普通布局一个思路"></a>下面是我的项目的一个示例，根据实际情况自己写，就和写普通布局一个思路</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">&quot;http://schemas.android.com/tools&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/texttime&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;TextView&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;center&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_marginTop</span>=<span class="hljs-string">&quot;10dp&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.constraintlayout.widget.ConstraintLayout</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;350dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;@drawable/whiteblock1&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;center&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_marginTop</span>=<span class="hljs-string">&quot;10dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_marginBottom</span>=<span class="hljs-string">&quot;0dp&quot;</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/textcontent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;300dp&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_marginBottom</span>=<span class="hljs-string">&quot;16dp&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;TextView&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintBottom_toTopOf</span>=<span class="hljs-string">&quot;@+id/imgpicture&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintEnd_toEndOf</span>=<span class="hljs-string">&quot;parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintStart_toStartOf</span>=<span class="hljs-string">&quot;parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintTop_toBottomOf</span>=<span class="hljs-string">&quot;@+id/texttitle&quot;</span> /&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/texttitle&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_marginBottom</span>=<span class="hljs-string">&quot;16dp&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;TextView&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintBottom_toTopOf</span>=<span class="hljs-string">&quot;@+id/textcontent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintEnd_toEndOf</span>=<span class="hljs-string">&quot;parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintStart_toStartOf</span>=<span class="hljs-string">&quot;parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintTop_toBottomOf</span>=<span class="hljs-string">&quot;@+id/imgavatar&quot;</span> /&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/imgpicture&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;300dp&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_marginBottom</span>=<span class="hljs-string">&quot;24dp&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintBottom_toBottomOf</span>=<span class="hljs-string">&quot;parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintEnd_toEndOf</span>=<span class="hljs-string">&quot;parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintStart_toStartOf</span>=<span class="hljs-string">&quot;parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintTop_toBottomOf</span>=<span class="hljs-string">&quot;@+id/textcontent&quot;</span> /&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/imgavatar&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;60dp&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;60dp&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_marginTop</span>=<span class="hljs-string">&quot;24dp&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_marginBottom</span>=<span class="hljs-string">&quot;16dp&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintBottom_toTopOf</span>=<span class="hljs-string">&quot;@+id/texttitle&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintEnd_toEndOf</span>=<span class="hljs-string">&quot;parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintHorizontal_bias</span>=<span class="hljs-string">&quot;0.089&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintStart_toStartOf</span>=<span class="hljs-string">&quot;parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">app:layout_constraintTop_toTopOf</span>=<span class="hljs-string">&quot;parent&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h3 id="三-创建对应的Adapter类用于管理布局资源"><a href="#三-创建对应的Adapter类用于管理布局资源" class="headerlink" title="三 创建对应的Adapter类用于管理布局资源"></a>三 创建对应的Adapter类用于管理布局资源</h3><h6 id="这个比较重要，我一一解释"><a href="#这个比较重要，我一一解释" class="headerlink" title="这个比较重要，我一一解释"></a>这个比较重要，我一一解释</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RecordAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RecyclerView</span>.Adapter&lt;RecordAdapter.RecordViewHolder&gt;<br></code></pre></td></tr></table></figure><h6 id="extends后面中的分别是自己Adapter类名和Adapter里面viewholder内部类的类名"><a href="#extends后面中的分别是自己Adapter类名和Adapter里面viewholder内部类的类名" class="headerlink" title="extends后面&lt;&gt;中的分别是自己Adapter类名和Adapter里面viewholder内部类的类名"></a>extends后面&lt;&gt;中的分别是自己Adapter类名和Adapter里面viewholder内部类的类名</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> ArrayList&lt;Item&gt; itemList;<br></code></pre></td></tr></table></figure><h6 id="ArrayList是java中的动态数组，itemList用于存放Item对象，Item是自己定义的类，该对象需包含所有Recyclerview中单个Item所需的资源数据，对应的Item示例如下"><a href="#ArrayList是java中的动态数组，itemList用于存放Item对象，Item是自己定义的类，该对象需包含所有Recyclerview中单个Item所需的资源数据，对应的Item示例如下" class="headerlink" title="ArrayList是java中的动态数组，itemList用于存放Item对象，Item是自己定义的类，该对象需包含所有Recyclerview中单个Item所需的资源数据，对应的Item示例如下"></a>ArrayList是java中的动态数组，itemList用于存放Item对象，Item是自己定义的类，该对象需包含所有Recyclerview中单个Item所需的资源数据，对应的Item示例如下</h6><h3 id="Item类"><a href="#Item类" class="headerlink" title="Item类"></a>Item类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.ccnu_station.Record;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> &#123;<br>    <span class="hljs-keyword">private</span> String title;<br>    <span class="hljs-keyword">private</span> String avatar;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 图片1URL</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> String image1;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 发布人的ID</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> String poster;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 帖子的ID</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> String postID;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 发布的地点</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> String postLocation;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 文本内容</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> String text;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 发布时间</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> String time;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAvatar</span><span class="hljs-params">(String avatar)</span> &#123;<br>        <span class="hljs-built_in">this</span>.avatar = avatar;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getAvatar</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> avatar;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTitle</span><span class="hljs-params">(String title)</span> &#123;<br>        <span class="hljs-built_in">this</span>.title = title;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getTitle</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> title;<br>    &#125;<br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getImage1</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> image1; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setImage1</span><span class="hljs-params">(String value)</span> &#123; <span class="hljs-built_in">this</span>.image1 = value; &#125;<br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPoster</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> poster; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPoster</span><span class="hljs-params">(String value)</span> &#123; <span class="hljs-built_in">this</span>.poster = value; &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPostID</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> postID; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPostID</span><span class="hljs-params">(String value)</span> &#123; <span class="hljs-built_in">this</span>.postID = value; &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPostLocation</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> postLocation; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPostLocation</span><span class="hljs-params">(String value)</span> &#123; <span class="hljs-built_in">this</span>.postLocation = value; &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getText</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> text; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setText</span><span class="hljs-params">(String value)</span> &#123; <span class="hljs-built_in">this</span>.text = value; &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getTime</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> time; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTime</span><span class="hljs-params">(String value)</span> &#123; <span class="hljs-built_in">this</span>.time = value; &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="Adapter的构造器"><a href="#Adapter的构造器" class="headerlink" title="Adapter的构造器"></a>Adapter的构造器</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">RecordAdapter</span><span class="hljs-params">(ArrayList&lt;Item&gt; itemList)</span> &#123;<br>        <span class="hljs-built_in">this</span>.itemList = itemList;<br>    &#125;<br></code></pre></td></tr></table></figure><h6 id="在Adapter实例化的时候就传入数据列表"><a href="#在Adapter实例化的时候就传入数据列表" class="headerlink" title="在Adapter实例化的时候就传入数据列表"></a>在Adapter实例化的时候就传入数据列表</h6><h3 id="viewholder内部类"><a href="#viewholder内部类" class="headerlink" title="viewholder内部类"></a>viewholder内部类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RecordViewHolder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RecyclerView</span>.ViewHolder &#123;<br>        <span class="hljs-keyword">public</span> TextView textTitle;<br>        <span class="hljs-keyword">public</span> TextView textContent;<br>        <span class="hljs-keyword">public</span> ImageView avatar;<br>        <span class="hljs-keyword">public</span> ImageView picture;<br>        <span class="hljs-keyword">public</span> TextView time;<br>        <span class="hljs-keyword">public</span> <span class="hljs-title function_">RecordViewHolder</span><span class="hljs-params">(View itemView)</span> &#123;<br>            <span class="hljs-built_in">super</span>(itemView);<br>            time = itemView.findViewById(R.id.texttime);<br>            textTitle = itemView.findViewById(R.id.texttitle);<br>            textContent = itemView.findViewById(R.id.textcontent);<br>            avatar = itemView.findViewById(R.id.imgavatar);<br>            picture = itemView.findViewById(R.id.imgpicture);<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><h6 id="应该很好理解是干什么用的，不需要深究"><a href="#应该很好理解是干什么用的，不需要深究" class="headerlink" title="应该很好理解是干什么用的，不需要深究"></a>应该很好理解是干什么用的，不需要深究</h6><h4 id="下面是详细解释"><a href="#下面是详细解释" class="headerlink" title="下面是详细解释"></a>下面是详细解释</h4><h6 id="这段代码定义了一个静态内部类-RecordViewHolder，它用于表示-RecyclerView-中每个列表项的视图容器。在-Android-中，RecyclerView-是用于展示大量数据列表的常用组件。"><a href="#这段代码定义了一个静态内部类-RecordViewHolder，它用于表示-RecyclerView-中每个列表项的视图容器。在-Android-中，RecyclerView-是用于展示大量数据列表的常用组件。" class="headerlink" title="这段代码定义了一个静态内部类 RecordViewHolder，它用于表示 RecyclerView 中每个列表项的视图容器。在 Android 中，RecyclerView 是用于展示大量数据列表的常用组件。"></a>这段代码定义了一个静态内部类 <code>RecordViewHolder</code>，它用于表示 RecyclerView 中每个列表项的视图容器。在 Android 中，RecyclerView 是用于展示大量数据列表的常用组件。</h6><h6 id="在-RecordViewHolder-类中，定义了一些公共的成员变量，例如-textTitle、textContent、avatar、picture-和-time，它们分别表示列表项中的标题、内容、用户头像、图片和时间。这些成员变量的类型分别是-TextView、ImageView-和-ImageView。"><a href="#在-RecordViewHolder-类中，定义了一些公共的成员变量，例如-textTitle、textContent、avatar、picture-和-time，它们分别表示列表项中的标题、内容、用户头像、图片和时间。这些成员变量的类型分别是-TextView、ImageView-和-ImageView。" class="headerlink" title="在 RecordViewHolder 类中，定义了一些公共的成员变量，例如 textTitle、textContent、avatar、picture 和 time，它们分别表示列表项中的标题、内容、用户头像、图片和时间。这些成员变量的类型分别是 TextView、ImageView 和 ImageView。"></a>在 <code>RecordViewHolder</code> 类中，定义了一些公共的成员变量，例如 <code>textTitle</code>、<code>textContent</code>、<code>avatar</code>、<code>picture</code> 和 <code>time</code>，它们分别表示列表项中的标题、内容、用户头像、图片和时间。这些成员变量的类型分别是 TextView、ImageView 和 ImageView。</h6><h6 id="类中的构造函数-RecordViewHolder-View-itemView-接收一个-View-类型的参数-itemView，这个参数表示列表项的视图对象。在构造函数中，通过调用父类-RecyclerView-ViewHolder-的构造函数来初始化-ViewHolder，并且通过-itemView-findViewById-方法来初始化成员变量，将对应的视图元素与成员变量进行关联。"><a href="#类中的构造函数-RecordViewHolder-View-itemView-接收一个-View-类型的参数-itemView，这个参数表示列表项的视图对象。在构造函数中，通过调用父类-RecyclerView-ViewHolder-的构造函数来初始化-ViewHolder，并且通过-itemView-findViewById-方法来初始化成员变量，将对应的视图元素与成员变量进行关联。" class="headerlink" title="类中的构造函数 RecordViewHolder(View itemView) 接收一个 View 类型的参数 itemView，这个参数表示列表项的视图对象。在构造函数中，通过调用父类 RecyclerView.ViewHolder 的构造函数来初始化 ViewHolder，并且通过 itemView.findViewById() 方法来初始化成员变量，将对应的视图元素与成员变量进行关联。"></a>类中的构造函数 <code>RecordViewHolder(View itemView)</code> 接收一个 View 类型的参数 <code>itemView</code>，这个参数表示列表项的视图对象。在构造函数中，通过调用父类 <code>RecyclerView.ViewHolder</code> 的构造函数来初始化 ViewHolder，并且通过 <code>itemView.findViewById()</code> 方法来初始化成员变量，将对应的视图元素与成员变量进行关联。</h6><h3 id="用于创建Viewholder对象的函数"><a href="#用于创建Viewholder对象的函数" class="headerlink" title="用于创建Viewholder对象的函数"></a>用于创建Viewholder对象的函数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> RecordViewHolder <span class="hljs-title function_">onCreateViewHolder</span><span class="hljs-params">(ViewGroup parent, <span class="hljs-type">int</span> viewType)</span> &#123;<br>        <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> LayoutInflater.from(parent.getContext()).inflate(R.layout.record_item, parent, <span class="hljs-literal">false</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RecordViewHolder</span>(view);<br>    &#125;<br></code></pre></td></tr></table></figure><h6 id="不想看一大串的话，简单来说，上面需要根据情况改动的就是viewholder的名字和R-layout-也就是自己创建的item-xml的名字"><a href="#不想看一大串的话，简单来说，上面需要根据情况改动的就是viewholder的名字和R-layout-也就是自己创建的item-xml的名字" class="headerlink" title="不想看一大串的话，简单来说，上面需要根据情况改动的就是viewholder的名字和R.layout.**** 也就是自己创建的item.xml的名字"></a>不想看一大串的话，简单来说，上面需要根据情况改动的就是viewholder的名字和R.layout.**** 也就是自己创建的item.xml的名字</h6><h6 id="具体来说，这段代码中的方法-onCreateViewHolder-是在创建新的-ViewHolder-实例时被调用的方法。它接收两个参数：parent-和-viewType。parent-是-RecyclerView-的父视图，而-viewType-表示视图的类型，可以根据需要进行不同的处理。"><a href="#具体来说，这段代码中的方法-onCreateViewHolder-是在创建新的-ViewHolder-实例时被调用的方法。它接收两个参数：parent-和-viewType。parent-是-RecyclerView-的父视图，而-viewType-表示视图的类型，可以根据需要进行不同的处理。" class="headerlink" title="具体来说，这段代码中的方法 onCreateViewHolder 是在创建新的 ViewHolder 实例时被调用的方法。它接收两个参数：parent 和 viewType。parent 是 RecyclerView 的父视图，而 viewType 表示视图的类型，可以根据需要进行不同的处理。"></a>具体来说，这段代码中的方法 <code>onCreateViewHolder</code> 是在创建新的 ViewHolder 实例时被调用的方法。它接收两个参数：<code>parent</code> 和 <code>viewType</code>。<code>parent</code> 是 RecyclerView 的父视图，而 <code>viewType</code> 表示视图的类型，可以根据需要进行不同的处理。</h6><h6 id="在方法内部，首先通过-LayoutInflater-从布局文件-R-layout-record-item-中创建了一个新的视图对象-view。然后使用这个视图对象初始化一个新的-RecordViewHolder-对象，并将其返回。这样就完成了一个-ViewHolder-的创建过程，后续该-ViewHolder-就会被用于显示-RecyclerView-中的数据项。"><a href="#在方法内部，首先通过-LayoutInflater-从布局文件-R-layout-record-item-中创建了一个新的视图对象-view。然后使用这个视图对象初始化一个新的-RecordViewHolder-对象，并将其返回。这样就完成了一个-ViewHolder-的创建过程，后续该-ViewHolder-就会被用于显示-RecyclerView-中的数据项。" class="headerlink" title="在方法内部，首先通过 LayoutInflater 从布局文件 R.layout.record_item 中创建了一个新的视图对象 view。然后使用这个视图对象初始化一个新的 RecordViewHolder 对象，并将其返回。这样就完成了一个 ViewHolder 的创建过程，后续该 ViewHolder 就会被用于显示 RecyclerView 中的数据项。"></a>在方法内部，首先通过 <code>LayoutInflater</code> 从布局文件 <code>R.layout.record_item</code> 中创建了一个新的视图对象 <code>view</code>。然后使用这个视图对象初始化一个新的 <code>RecordViewHolder</code> 对象，并将其返回。这样就完成了一个 ViewHolder 的创建过程，后续该 ViewHolder 就会被用于显示 RecyclerView 中的数据项。</h6><h3 id="绑定Item对象中的数据到视图的函数"><a href="#绑定Item对象中的数据到视图的函数" class="headerlink" title="绑定Item对象中的数据到视图的函数"></a>绑定Item对象中的数据到视图的函数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onBindViewHolder</span><span class="hljs-params">(RecordViewHolder holder, <span class="hljs-type">int</span> position)</span> &#123;<br>    <span class="hljs-type">Item</span> <span class="hljs-variable">item</span> <span class="hljs-operator">=</span> itemList.get(position);<br>    holder.textTitle.setText(item.getTitle());<br>    holder.textContent.setText(item.getText());<br>    holder.time.setText(item.getTime());<br>    Glide.with(holder.itemView.getContext())<br>            .load(item.getAvatar())<br>            .circleCrop()<br>            .into(holder.avatar);<br>    Glide.with(holder.itemView.getContext())<br>            .load(item.getImage1())<br>            .into(holder.picture);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="一个返回adapter中item个数的函数"><a href="#一个返回adapter中item个数的函数" class="headerlink" title="一个返回adapter中item个数的函数"></a>一个返回adapter中item个数的函数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getItemCount</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> itemList.size();<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="用于外部设置adapter中itemlist的函数"><a href="#用于外部设置adapter中itemlist的函数" class="headerlink" title="用于外部设置adapter中itemlist的函数"></a>用于外部设置adapter中itemlist的函数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setItemList</span><span class="hljs-params">(ArrayList&lt;Item&gt; itemList)</span> &#123;<br>        <span class="hljs-built_in">this</span>.itemList = itemList;<br>    &#125;<br></code></pre></td></tr></table></figure><h3 id="下面的是全部合起来的示例"><a href="#下面的是全部合起来的示例" class="headerlink" title="下面的是全部合起来的示例"></a>下面的是全部合起来的示例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.ccnu_station.Record;<br><br><span class="hljs-keyword">import</span> android.view.LayoutInflater;<br><span class="hljs-keyword">import</span> android.view.View;<br><span class="hljs-keyword">import</span> android.view.ViewGroup;<br><span class="hljs-keyword">import</span> android.widget.ImageView;<br><span class="hljs-keyword">import</span> android.widget.TextView;<br><br><span class="hljs-keyword">import</span> androidx.recyclerview.widget.RecyclerView;<br><br><span class="hljs-keyword">import</span> com.bumptech.glide.Glide;<br><span class="hljs-keyword">import</span> com.example.ccnu_station.R;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RecordAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RecyclerView</span>.Adapter&lt;RecordAdapter.RecordViewHolder&gt;&#123;<br>    <span class="hljs-keyword">private</span> ArrayList&lt;Item&gt; itemList;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RecordAdapter</span><span class="hljs-params">(ArrayList&lt;Item&gt; itemList)</span> &#123;<br>        <span class="hljs-built_in">this</span>.itemList = itemList;<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> RecordViewHolder <span class="hljs-title function_">onCreateViewHolder</span><span class="hljs-params">(ViewGroup parent, <span class="hljs-type">int</span> viewType)</span> &#123;<br>        <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> LayoutInflater.from(parent.getContext()).inflate(R.layout.record_item, parent, <span class="hljs-literal">false</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RecordViewHolder</span>(view);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onBindViewHolder</span><span class="hljs-params">(RecordViewHolder holder, <span class="hljs-type">int</span> position)</span> &#123;<br>        <span class="hljs-type">Item</span> <span class="hljs-variable">item</span> <span class="hljs-operator">=</span> itemList.get(position);<br>        holder.textTitle.setText(item.getTitle());<br>        holder.textContent.setText(item.getText());<br>        holder.time.setText(item.getTime());<br>        Glide.with(holder.itemView.getContext())<br>                .load(item.getAvatar())<br>                .circleCrop()<br>                .into(holder.avatar);<br>        Glide.with(holder.itemView.getContext())<br>                .load(item.getImage1())<br>                .into(holder.picture);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getItemCount</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> itemList.size();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setItemList</span><span class="hljs-params">(ArrayList&lt;Item&gt; itemList)</span> &#123;<br>        <span class="hljs-built_in">this</span>.itemList = itemList;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RecordViewHolder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RecyclerView</span>.ViewHolder &#123;<br>        <span class="hljs-keyword">public</span> TextView textTitle;<br>        <span class="hljs-keyword">public</span> TextView textContent;<br>        <span class="hljs-keyword">public</span> ImageView avatar;<br>        <span class="hljs-keyword">public</span> ImageView picture;<br>        <span class="hljs-keyword">public</span> TextView time;<br>        <span class="hljs-keyword">public</span> <span class="hljs-title function_">RecordViewHolder</span><span class="hljs-params">(View itemView)</span> &#123;<br>            <span class="hljs-built_in">super</span>(itemView);<br>            time = itemView.findViewById(R.id.texttime);<br>            textTitle = itemView.findViewById(R.id.texttitle);<br>            textContent = itemView.findViewById(R.id.textcontent);<br>            avatar = itemView.findViewById(R.id.imgavatar);<br>            picture = itemView.findViewById(R.id.imgpicture);<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="四-在activity中连接recyclerview和adapter"><a href="#四-在activity中连接recyclerview和adapter" class="headerlink" title="四 在activity中连接recyclerview和adapter"></a>四 在activity中连接recyclerview和adapter</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.ccnu_station.Record;<br><br><span class="hljs-keyword">import</span> androidx.appcompat.app.AppCompatActivity;<br><span class="hljs-keyword">import</span> androidx.recyclerview.widget.LinearLayoutManager;<br><span class="hljs-keyword">import</span> androidx.recyclerview.widget.RecyclerView;<br><br><span class="hljs-keyword">import</span> android.content.Context;<br><span class="hljs-keyword">import</span> android.content.Intent;<br><span class="hljs-keyword">import</span> android.os.Bundle;<br><br><span class="hljs-keyword">import</span> com.example.ccnu_station.Home.HomePage;<br><span class="hljs-keyword">import</span> com.example.ccnu_station.R;<br><span class="hljs-keyword">import</span> com.example.ccnu_station.Reuse.CCNU_API;<br><span class="hljs-keyword">import</span> com.example.ccnu_station.Reuse.CCNU_Application;<br><span class="hljs-keyword">import</span> com.example.ccnu_station.Reuse.JsonRespond;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">import</span> retrofit2.Call;<br><span class="hljs-keyword">import</span> retrofit2.Callback;<br><span class="hljs-keyword">import</span> retrofit2.Response;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RecordActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> &#123;<br>    <span class="hljs-keyword">private</span> RecyclerView recyclerView;<br>    <span class="hljs-keyword">private</span> RecordAdapter adapter;<br>    <span class="hljs-keyword">private</span> ArrayList&lt;Item&gt; itemList;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_record_page);<br>        itemList = generateItemList();<span class="hljs-comment">//自己写的函数用于初始化itemList</span><br>        recyclerView = findViewById(R.id.recordrecyclerview);<span class="hljs-comment">//绑定recyclerview</span><br>        adapter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RecordAdapter</span>(itemList);<span class="hljs-comment">//创建adapter对象</span><br>        recyclerView.setLayoutManager(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LinearLayoutManager</span>(<span class="hljs-built_in">this</span>));<span class="hljs-comment">//设置layoutmanager</span><br>        recyclerView.setAdapter(adapter);<span class="hljs-comment">//设置adapter为刚创建的adapter</span><br>    &#125;<br>    <span class="hljs-keyword">private</span> ArrayList&lt;Item&gt; <span class="hljs-title function_">generateItemList</span><span class="hljs-params">()</span><br>    &#123;<br>    <span class="hljs-comment">//自己定义函数体</span><br>    &#125; <br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>使用七牛云作为图床</title>
    <link href="/2024/04/14/%E4%BD%BF%E7%94%A8%E4%B8%83%E7%89%9B%E4%BA%91%E4%BD%9C%E4%B8%BA%E5%9B%BE%E5%BA%8A/"/>
    <url>/2024/04/14/%E4%BD%BF%E7%94%A8%E4%B8%83%E7%89%9B%E4%BA%91%E4%BD%9C%E4%B8%BA%E5%9B%BE%E5%BA%8A/</url>
    
    <content type="html"><![CDATA[<h2 id="上传图片并获取图片URL"><a href="#上传图片并获取图片URL" class="headerlink" title="上传图片并获取图片URL"></a>上传图片并获取图片URL</h2><p>这里贴一个官方开发文档先</p><p><a href="https://developer.qiniu.com/kodo/1236/android">Android SDK_SDK 下载_对象存储 - 七牛开发者中心 (qiniu.com)</a></p><p>注意，官方文档涉及内容更详细更全面，但是对于初学者有些地方容易引起混淆和疑惑，我只是用自己的理解重写一遍，只写其中一种最简单可用的方法，并且以下内容不涉及DNS服务器配置（没有特殊需求可以不用管这个）</p><h5 id="在”-gradle”文件中添加环境依赖"><a href="#在”-gradle”文件中添加环境依赖" class="headerlink" title="在”.gradle”文件中添加环境依赖"></a>在”.gradle”文件中添加环境依赖</h5><p>我这里是直接用了第一种，没有指定okhttp版本的第一种就够了</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">implementation</span><span class="hljs-params">(<span class="hljs-string">&quot;com.qiniu:qiniu-android-sdk:8.7.+&quot;</span>)</span></span><br></code></pre></td></tr></table></figure><h5 id="在Application类（自己创建的Java类，用于初始化app所需的一些实例）中的onCreate方法中初始化"><a href="#在Application类（自己创建的Java类，用于初始化app所需的一些实例）中的onCreate方法中初始化" class="headerlink" title="在Application类（自己创建的Java类，用于初始化app所需的一些实例）中的onCreate方法中初始化"></a>在Application类（自己创建的Java类，用于初始化app所需的一些实例）中的onCreate方法中初始化</h5><p>具体有关Application类我在retrofit模板中有提到<br>注意，一个Application类就可以承担所有（大概吧）初始化，如果你之前已经有了，不需要新建一个<br>官方的技术文档中有出现recorder和keyGen这两个变量，用于记录一些信息，可以默认填null</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Application</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> UploadManager uploadManager;<span class="hljs-comment">//声明uploadManager为static修饰的变量，方便不生成类对象就可调用</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span><br>    &#123;<br>        <span class="hljs-built_in">super</span>.onCreate();<br>        <br>        <span class="hljs-comment">// AutoZone：自动根据 bucket 去查询相应 Zone，Zone 信息会被缓存</span><br>        <span class="hljs-type">Zone</span> <span class="hljs-variable">zone</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AutoZone</span>();<br>        <span class="hljs-comment">// 根据区域 ID 创建 Zone，无需查询，强烈推荐使用 AutoZone</span><br>        <span class="hljs-comment">//zone = FixedZone.createWithRegionId(&quot;z0&quot;);</span><br>        <span class="hljs-type">Configuration</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>.Builder()<br>                .connectTimeout(<span class="hljs-number">90</span>)              <span class="hljs-comment">// 链接超时。默认90秒</span><br>                .useHttps(<span class="hljs-literal">true</span>)                  <span class="hljs-comment">// 是否使用https上传域名</span><br>                .useConcurrentResumeUpload(<span class="hljs-literal">true</span>) <span class="hljs-comment">// 使用并发上传，使用并发上传时，除最后一块大小不定外，其余每个块大小固定为4M，</span><br>                .resumeUploadVersion(Configuration.RESUME_UPLOAD_VERSION_V2) <span class="hljs-comment">// 使用新版分片上传</span><br>                .concurrentTaskCount(<span class="hljs-number">3</span>)          <span class="hljs-comment">// 并发上传线程数量为3</span><br>                .responseTimeout(<span class="hljs-number">90</span>)             <span class="hljs-comment">// 服务器响应超时。默认90秒</span><br>                .recorder(<span class="hljs-literal">null</span>)              <span class="hljs-comment">// recorder分片上传时，已上传片记录器。默认null</span><br>                .recorder(<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>)      <span class="hljs-comment">// keyGen 分片上传时，生成标识符，用于片记录器区分是那个文件的上传记录</span><br>                .zone(zone)                      <span class="hljs-comment">// 设置区域，不指定会默认使用 AutoZone；指定不同区域的上传域名、备用域名、备用IP。</span><br>                .build();<br>        <span class="hljs-comment">// 重用uploadManager。一般地，只需要创建一个uploadManager对象</span><br>        uploadManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UploadManager</span>(config);<br>    &#125;<br>    <span class="hljs-comment">//这里是一个重复调用uploadManager的函数</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> UploadManager <span class="hljs-title function_">getUploadManager</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> uploadManager;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h5 id="调用uploadmanager上传图片"><a href="#调用uploadmanager上传图片" class="headerlink" title="调用uploadmanager上传图片"></a>调用uploadmanager上传图片</h5><p>注意，下面的函数是异步请求</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java">data = &lt;File 对象 或 文件路径 或 字节数组 或 数据流 或 Uri 资源&gt;<span class="hljs-comment">//自己要上传的文件</span><br><span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> &lt;指定七牛服务上的文件名，或 <span class="hljs-literal">null</span>&gt;;<span class="hljs-comment">//默认null就行</span><br><span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> &lt;从服务端 SDK 获取&gt;;<span class="hljs-comment">//这个要问后端要，token是注册了七牛云账户后可生成的，具体不清楚，可以去看官方文档</span><br>uploadManager.put(data, key, token,<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">UpCompletionHandler</span>() &#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">complete</span><span class="hljs-params">(String key, ResponseInfo info, JSONObject res)</span> &#123;<br>            <span class="hljs-comment">//res 包含 hash、key 等信息，具体字段取决于上传策略的设置</span><br>             <span class="hljs-keyword">if</span>(info.isOK()) &#123;<br>                Log.i(<span class="hljs-string">&quot;qiniu&quot;</span>, <span class="hljs-string">&quot;Upload Success&quot;</span>);<span class="hljs-comment">//上传成功</span><br>                <span class="hljs-type">String</span> <span class="hljs-variable">uploadedKey</span> <span class="hljs-operator">=</span> response.optString(<span class="hljs-string">&quot;key&quot;</span>);<br>                 <span class="hljs-comment">//这个uploadedkey可以和你手里的七牛云私有域名拼接，得到的就是图片的URL</span><br>             &#125; <span class="hljs-keyword">else</span> &#123;<br>                Log.i(<span class="hljs-string">&quot;qiniu&quot;</span>, <span class="hljs-string">&quot;Upload Fail&quot;</span>);<br>                <span class="hljs-comment">//如果失败，这里可以把 info 信息上报自己的服务器，便于后面分析上传错误原因</span><br>             &#125;<br>             <span class="hljs-comment">//这里也可以加一句log：Log.i(&quot;qiniu&quot;, key + &quot;,\r\n &quot; + info + &quot;,\r\n &quot; + res);</span><br>            &#125;<br>        &#125;, <span class="hljs-literal">null</span>);<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Android Studio调取相册获得图片的uri</title>
    <link href="/2024/04/14/Android-Studio%E8%B0%83%E5%8F%96%E7%9B%B8%E5%86%8C%E8%8E%B7%E5%BE%97%E5%9B%BE%E7%89%87%E7%9A%84uri/"/>
    <url>/2024/04/14/Android-Studio%E8%B0%83%E5%8F%96%E7%9B%B8%E5%86%8C%E8%8E%B7%E5%BE%97%E5%9B%BE%E7%89%87%E7%9A%84uri/</url>
    
    <content type="html"><![CDATA[<h6 id="API-29以上可用"><a href="#API-29以上可用" class="headerlink" title="API 29以上可用"></a>API 29以上可用</h6><h3 id="封装好的类用于通过文件uri来获取文件"><a href="#封装好的类用于通过文件uri来获取文件" class="headerlink" title="封装好的类用于通过文件uri来获取文件"></a>封装好的类用于通过文件uri来获取文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileUtil</span> &#123;<br><br>    <span class="hljs-meta">@RequiresApi(api = Build.VERSION_CODES.Q)</span><br>    <span class="hljs-comment">//需要在API29及以上的版本运行</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> File <span class="hljs-title function_">uriToFile</span><span class="hljs-params">(Context context, Uri uri)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//需要传入Context参数和Uri参数</span><br>    <span class="hljs-comment">//可能抛出IOException异常</span><br>        <span class="hljs-type">ContentResolver</span> <span class="hljs-variable">contentResolver</span> <span class="hljs-operator">=</span> context.getContentResolver();<br><span class="hljs-comment">//从传入的Context中获取ContentResolver</span><br>        <span class="hljs-type">File</span> <span class="hljs-variable">destinationFile</span> <span class="hljs-operator">=</span> createDestinationFile(context);<br><span class="hljs-comment">//调用下面的createDestinationFile方法创建一个文件用于uri对应存储图片</span><br>        <span class="hljs-keyword">try</span> (<span class="hljs-type">InputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span> contentResolver.openInputStream(uri);<br>             <span class="hljs-type">OutputStream</span> <span class="hljs-variable">outputStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(destinationFile)) &#123;<br><span class="hljs-comment">//这里使用了 try-with-resources 语句，打开了一个从给定 `Uri` 获取的输入流，以及一个输出流，将数据写入目标文件，输入流传入uri，输出流传入创建好的文件</span><br>            <span class="hljs-keyword">if</span> (inputStream != <span class="hljs-literal">null</span>) &#123;<br>                <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br>                <span class="hljs-type">int</span> bytesRead;<br>                <span class="hljs-keyword">while</span> ((bytesRead = inputStream.read(buffer)) != -<span class="hljs-number">1</span>) &#123;<br>                    outputStream.write(buffer, <span class="hljs-number">0</span>, bytesRead);<br>                &#125;<br>            &#125;<br>            <span class="hljs-comment">//这一段从输入流中读取数据，并将其写入输出流（创建的文件），直到达到文件末尾。</span><br>        &#125;<br><br>        <span class="hljs-keyword">return</span> destinationFile;<br>        <span class="hljs-comment">//返回创建的目标文件</span><br>    &#125;<br><br>    <span class="hljs-meta">@RequiresApi(api = Build.VERSION_CODES.Q)</span><br>    <span class="hljs-comment">//需要在API29及以上的版本运行</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> File <span class="hljs-title function_">createDestinationFile</span><span class="hljs-params">(Context context)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;image_file&quot;</span>; <span class="hljs-comment">// 可以根据实际情况给文件命名</span><br>        <span class="hljs-type">File</span> <span class="hljs-variable">storageDir</span> <span class="hljs-operator">=</span> context.getExternalFilesDir(Environment.DIRECTORY_PICTURES);<br><span class="hljs-comment">//获取外部存储中图片文件的目录</span><br>        <span class="hljs-keyword">if</span> (storageDir == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IOException</span>(<span class="hljs-string">&quot;External storage directory not available&quot;</span>);<br>        &#125;<br><span class="hljs-comment">//这里检查外部存储目录是否可用，如果不可用，则抛出 `IOException` 异常</span><br>        <span class="hljs-type">File</span> <span class="hljs-variable">destinationFile</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(storageDir, fileName + <span class="hljs-string">&quot;.jpg&quot;</span>);<br>        <span class="hljs-comment">//创建目标文件</span><br>        <span class="hljs-keyword">if</span> (destinationFile.exists()) &#123;<br>            destinationFile.delete();<br>            <span class="hljs-comment">//如果文件已经存在，则删除旧文件</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> destinationFile;<br>        <span class="hljs-comment">//返回创建的文件</span><br>    &#125;<br>&#125;<br><br><br></code></pre></td></tr></table></figure><h6 id="传入-Context-主要是因为只有-Context-具有对应用程序资源和环境的访问权限，包括文件系统、系统服务等。Context-是-Android-中的一个核心类，它包含了许多关于应用程序环境的信息，以及用于访问应用程序资源的方法。"><a href="#传入-Context-主要是因为只有-Context-具有对应用程序资源和环境的访问权限，包括文件系统、系统服务等。Context-是-Android-中的一个核心类，它包含了许多关于应用程序环境的信息，以及用于访问应用程序资源的方法。" class="headerlink" title="传入 Context 主要是因为只有 Context 具有对应用程序资源和环境的访问权限，包括文件系统、系统服务等。Context 是 Android 中的一个核心类，它包含了许多关于应用程序环境的信息，以及用于访问应用程序资源的方法。"></a>传入 <code>Context</code> 主要是因为只有 <code>Context</code> 具有对应用程序资源和环境的访问权限，包括文件系统、系统服务等。<code>Context</code> 是 Android 中的一个核心类，它包含了许多关于应用程序环境的信息，以及用于访问应用程序资源的方法。</h6><h3 id="通过相册调取uri并获取文件"><a href="#通过相册调取uri并获取文件" class="headerlink" title="通过相册调取uri并获取文件"></a>通过相册调取uri并获取文件</h3><h6 id="uri-是-Android-中用来标识资源地址或标识符的类。uri-是-Uniform-Resource-Identifier（统一资源标识符）的缩写，用于表示资源的唯一标识符。"><a href="#uri-是-Android-中用来标识资源地址或标识符的类。uri-是-Uniform-Resource-Identifier（统一资源标识符）的缩写，用于表示资源的唯一标识符。" class="headerlink" title="uri 是 Android 中用来标识资源地址或标识符的类。uri 是 Uniform Resource Identifier（统一资源标识符）的缩写，用于表示资源的唯一标识符。"></a>uri 是 Android 中用来标识资源地址或标识符的类。uri 是 Uniform Resource Identifier（统一资源标识符）的缩写，用于表示资源的唯一标识符。</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAcctivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span>&#123;<br><span class="hljs-keyword">private</span> ActivityResultLauncher&lt;String&gt; getContentLauncher = registerForActivityResult(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActivityResultContracts</span>.GetContent(),<br>            uri -&gt; &#123;<br>                <span class="hljs-keyword">if</span> (uri != <span class="hljs-literal">null</span>) &#123;<br>                <span class="hljs-comment">/*这里就已经获取到给图片的uri了</span><br><span class="hljs-comment">                在这里写和uri有关的处理代码</span><br><span class="hljs-comment">                比如通过uri获取图片文件，上传图床什么的</span><br><span class="hljs-comment">                */</span><br>                <span class="hljs-comment">//调用上面封装好的类方法获取文件</span><br>                File avatarFile;<br>                    <span class="hljs-type">Uri</span> <span class="hljs-variable">UriAvatar</span> <span class="hljs-operator">=</span> uri;<br>                    <span class="hljs-keyword">try</span> &#123;<br>                        avatarFile = FileUtil.uriToFile(MyAcctivity.<span class="hljs-built_in">this</span>,UriAvatar);<br>                    &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>                    &#125;<br>                    <span class="hljs-comment">//因为这个操作有可能报出异常，编译器要求用try和catch捕获可能的异常</span><br>                    <span class="hljs-comment">//现在avatarFile就是用户选择的图片文件，可以在这里直接将他上传到图床</span><br>                &#125;<br>            &#125;<br>);<br><span class="hljs-comment">//这里创建了一个 ActivityResultLauncher`对象 getContentLauncher，使用 registerForActivityResult 注册了一个获取内容的 Activity Result Contracts，并定义了处理返回结果的 Lambda 表达式。当从相册选择图片后，该 Lambda 表达式会被调用，其中通过 FileUtil.uriToFile 方法将 Uri 转换为文件。</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_myactivity);<br><br><br>        getContentLauncher.launch(<span class="hljs-string">&quot;image/*&quot;</span>);<br>        <span class="hljs-comment">//&quot;image/*&quot;用于约束图片类型，*可以换成JPEG或者PNG</span><br>        <span class="hljs-comment">//上面这一句可以写在点击事件里，这句会调取相册让用户选择图片</span><br>        <span class="hljs-comment">//需要注意的是，这个也是异步方法，数据相关的代码要处理好</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2024/04/12/hello-world/"/>
    <url>/2024/04/12/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
